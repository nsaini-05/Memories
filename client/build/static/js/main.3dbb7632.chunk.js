(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n(20),s=n.n(r),i=n(25),o=(n(56),n(2)),l=function(){return Object(o.jsxs)("header",{class:"header",children:[Object(o.jsx)("ion-icon",{name:"camera-outline",class:"header-icon"}),Object(o.jsx)("span",{class:"logo-text",children:"Memories"})]})},u=n(39),d=n(8),j=n.n(d),p=n(14),b="CREATE",h="UPDATE",f="DELETE",O="FETCH_ALL",x="LIKE",g=n(15),v=n.n(g),m="https://memoriespro7.herokuapp.com/posts",y=function(e,t){return v.a.put("".concat(m,"/").concat(e),t)},k=function(e){return v.a.delete("".concat(m,"/").concat(e))},C=function(e){return v.a.patch("".concat(m,"/").concat(e,"/likepost"))},w=n(7),_=function(e){var t=e.post,n=e.setCurrentId,c=Object(w.b)();return Object(o.jsxs)("div",{class:"card",children:[Object(o.jsx)("img",{src:t.selectedFile?t.selectedFile.public_url:"",class:"card-img"}),Object(o.jsxs)("div",{class:"card-content",children:[t.tags.length>0?t.tags.map((function(e){return Object(o.jsxs)("span",{class:"tag",children:["\xa0\xa0","#".concat(e)," "]})})):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("p",{class:"card-title",children:t.title}),Object(o.jsx)("p",{class:"card-description",children:t.message}),Object(o.jsxs)("div",{class:"card-icons",children:[Object(o.jsxs)("div",{class:"like",children:[Object(o.jsx)("button",{class:"like-button",onClick:function(){return c((e=t._id,function(){var t=Object(p.a)(j.a.mark((function t(n){var c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e);case 3:c=t.sent,a=c.data,n({type:x,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:Object(o.jsx)("ion-icon",{name:"thumbs-up-outline",class:"card-icon card-icon-like"})}),Object(o.jsx)("span",{class:"card-icon-text",children:t.likeCount})]}),Object(o.jsx)("div",{class:"update",children:Object(o.jsx)("button",{class:"update-button",onClick:function(){n(t._id)},children:Object(o.jsx)("ion-icon",{name:"create-outline",class:"card-icon card-icon-update"})})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{class:"delete-button",onClick:function(){return c((e=t._id,function(){var t=Object(p.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:n({type:f,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:Object(o.jsx)("ion-icon",{name:"trash-outline",class:"card-icon card-icon-delete"})})})]})]})]})},I=n(96),E=(n(21).a.div(c||(c=Object(u.a)(["\n  display: grid;\n  grid-row-gap: 9.6rem;\n  grid-column-gap: 6.4rem;\n  grid-template-columns: repeat(2, 1fr);\n"]))),function(e){var t=e.setCurrentId,n=Object(w.b)(),c=Object(w.c)((function(e){return e.posts}));return Object(a.useEffect)((function(){n(function(){var e=Object(p.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get(m);case 3:n=e.sent,c=n.data,t({type:O,payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),c?Object(o.jsx)("div",{className:"photos",children:c.map((function(e){return Object(o.jsx)(_,{post:e,setCurrentId:t},e._id)}))}):Object(o.jsx)(I.a,{})}),T=n(9),F=n(95),S=(Object(F.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),n(79),function(e){var t=e.currentId,n=(e.setCurrentId,Object(w.c)((function(e){return t?e.posts.find((function(e){return e._id===t})):null}))),c=Object(w.b)(),r=Object(a.useState)({creator:"",title:"",message:"",tags:"",selectedFile:{public_url:"",public_id:""}}),s=Object(i.a)(r,2),l=s[0],u=s[1];Object(a.useEffect)((function(){n&&u(n)}),[n]);return Object(o.jsxs)("div",{class:"form",children:[Object(o.jsx)("h2",{class:"secondary-heading",children:"Create a Memory"}),Object(o.jsxs)("form",{class:"cta-form",type:"submit",onSubmit:function(e){var n,a;e.preventDefault(),c(t?(n=t,a=l,function(){var e=Object(p.a)(j.a.mark((function e(t){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(n,a);case 3:c=e.sent,r=c.data,t({type:h,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(p.a)(j.a.mark((function t(n){var c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,v.a.post(m,r);case 3:c=t.sent,a=c.data,n({type:b,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(l))},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:"creator",children:"Created By"}),Object(o.jsx)("input",{type:"text",placeholder:"Who took the picture?",value:l.creator,id:"creator",onChange:function(e){u(Object(T.a)(Object(T.a)({},l),{},{creator:e.target.value}))},required:!0})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:"title",children:"Title"}),Object(o.jsx)("input",{type:"text",placeholder:"What is it about?",id:"Title",onChange:function(e){u(Object(T.a)(Object(T.a)({},l),{},{title:e.target.value}))},value:l.title,required:!0})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:"title",children:"Message"}),Object(o.jsx)("input",{type:"text",placeholder:"What's the message behind?",id:"Title",maxLength:"30",required:!0,onChange:function(e){u(Object(T.a)(Object(T.a)({},l),{},{message:e.target.value}))},value:l.message})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:"tags",children:"Tags"}),Object(o.jsx)("input",{type:"text",placeholder:"Relevant Tags",id:"creator",onChange:function(e){u(Object(T.a)(Object(T.a)({},l),{},{tags:e.target.value.split(",")}))},value:l.tags,required:!0})]}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"file",id:"file",name:"image",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&u(Object(T.a)(Object(T.a)({},l),{},{selectedFile:{public_url:t.result}}))},t.readAsDataURL(e.target.files[0])},accept:"image/png, image/gif, image/jpeg"})}),Object(o.jsx)("button",{class:"btn-submit",children:"Submit"})]})]})}),L=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{}),Object(o.jsx)("section",{className:"section-gallery",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(E,{currentId:n,setCurrentId:c}),Object(o.jsx)(S,{currentId:n,setCurrentId:c})]})})]})},D=n(13),M=n(47),R=n(49),W=Object(D.combineReducers)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;case b:return[].concat(Object(R.a)(e),[t.payload]);case f:return console.log(t.payload),e.filter((function(e){return e._id!==t.payload}));case h:case x:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));default:return e}}}),q=n(48),A=[M.a],B=Object(D.createStore)(W,Object(q.composeWithDevTools)(D.applyMiddleware.apply(void 0,A)));s.a.render(Object(o.jsx)(w.a,{store:B,children:Object(o.jsx)(L,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.3dbb7632.chunk.js.map